<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 14pt;
    }
  </style>
</head>
<body>
<a name="1487"/>

<div>
<span><div><br/></div><div>1、ajax   </div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">异步的javascript and  xml</span></div><div><span style="font-size: 16px;">ajax作用： 页面无刷新   向服务器提交少量的数据，完成和服务器的数据交互，服务器响应数据的速度快   提高了用户体验</span></div></div><div><span style="font-size: 16px;"><br/></span></div><div>2、ajax 中 客户端和服务器端数据交互过程</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><img src="day21_files/Image.png" type="image/png" style="height: auto;"/></div></div><div><br/></div><div>3、ajax的异步和同步</div><div><span style="font-size: 16px;"><br/></span></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><span style="font-size: 16px;">异步：  生活中的同步  对应  计算机中的异步，   同时执行      </span></div><div><span style="font-size: 16px;">       非阻塞模式  ：   后面代码的执行不会受到前面代码的影响</span></div><div><span style="font-size: 16px;">同步 ： 生活中的异步  对应  计算机中的同步，   按照代码书写顺序执行</span></div><div><span style="font-size: 16px;">       阻塞模式 ： 后面代码的执行受前面代码的影响，如果前面代码有错误，后面的代码将不会执行<br/></span></div><div><br/></div></div><div><br/></div><div>4、线程和进程  （扩展）</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">线程分  多线程 和 单线程      js  是  单线程的   </span></div><div><span style="font-size: 16px;">多线程 异步  执行 </span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">进程 ！=  线程</span></div><div><span style="font-size: 16px;">进程  就是一个  程序   </span></div></div><div><br/></div><div>5、数据提交方式</div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">get  ： 从服务器获取数据    提交数据时  是通过url传递的   传递数据格式: 路径?uname=lichune&amp;upwd=111111   操作的数据量小    安全性低</span></div><div><span style="font-size: 16px;">post ： 向服务器提交数据    安全性高    传递的数据量相对较大   </span></div></div><div><span style="font-size: 16px;"><br/></span></div><div>6、ajax 代码实现过程</div><div><span style="font-size: 16px;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">打电话流程：</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     1、备一个手机</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     2、拨号  建立连接  </span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     3、打电话一方(客户端)  说  ....</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     4、 接电话 (服务器)   回应  </span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">ajax 代码实现流程</span></span></span></div><div><span style="color: rgb(51, 51, 51);"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="font-size: 16px;">     1、备ajax对象</span></span></span></div><div align="left" style="min-height: 21pt;"><div><font color="#364BC0" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">       var</span></font> <font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">ajax</span></font> <font color="#577909" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">=</span></font> <font color="#9B1CEB" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">null</span></font><font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">;</span></font></div></div><div align="left" style="min-height: 21pt;"><font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">       </span></font><font color="#577909" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">if</span></font><font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">(</span></font> <font color="#3C7A03" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">window</span></font><font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">.XMLHttpRequest ){</span></font></div><div align="left" style="min-height: 21pt;"><font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">           ajax</span></font> <font color="#577909" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">= new</span></font> <font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">XMLHttpRequest();</span></font></div><div align="left" style="min-height: 21pt;"><font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">       }</span></font><font color="#577909" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">else</span></font><font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">{</span></font></div><div align="left" style="min-height: 21pt;"><font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">           ajax</span></font> <font color="#577909" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">= new</span></font> <font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">ActiveXObject(</span></font><font color="#248C85" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">&quot;Microsoft.XMLHTTP&quot;</span></font><font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">);</span></font></div><div align="left" style="min-height: 21pt;"><div><font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">       }</span></font></div><div><span style="font-size: 18pt;"><span style="font-family: Consolas;"><span style="background-color: rgb(255, 250, 232);"><span style="color: rgb(8, 8, 8);">     2、和服务器建立连接</span></span></span></span></div><div><span style="font-size: 18pt;"><span style="font-family: Consolas;"><span style="background-color: rgb(255, 250, 232);"><span style="color: rgb(8, 8, 8);">     通过open方法  第一个参数：  请求数据的方式  get/post   </span></span></span></span></div><div><span style="font-size: 18pt;"><span style="font-family: Consolas;"><span style="background-color: rgb(255, 250, 232);"><span style="color: rgb(8, 8, 8);">                   第二个参数:   请求路径  url    </span></span></span></span></div><div><span style="font-size: 18pt;"><span style="font-family: Consolas;"><span style="background-color: rgb(255, 250, 232);"><span style="color: rgb(8, 8, 8);">                  第三个参数:   同步/异步  默认是异步的true    如果false  就是同步</span></span></span></span></div><div><span style="font-size: 18pt;"><span style="font-family: Consolas;"><span style="background-color: rgb(255, 250, 232);"><span style="color: rgb(8, 8, 8);">     3、客户端发送数据  通过send方法</span></span></span></span></div><div><span style="font-size: 18pt;"><span style="font-family: Consolas;"><span style="background-color: rgb(255, 250, 232);"><span style="color: rgb(8, 8, 8);">     4、得到服务器返回的结果  （异步的）</span></span></span></span></div><div><span style="font-size: 18pt;"><span style="font-family: Consolas;"><span style="background-color: rgb(255, 250, 232);"><span style="color: rgb(8, 8, 8);">     </span></span></span></span></div><div align="left" style="min-height: 21pt;"><div><font color="#080808" face="Consolas" size="5"><span style="font-size:18pt; background:#fffae8">        responseText  ajax对象的属性 ，该属性中存放服务器返回的结果</span></font></div></div><div><span style="font-size: 18pt;"><span style="font-family: Consolas;"><span style="background-color: rgb(255, 250, 232);"><span style="color: rgb(8, 8, 8);"> </span></span></span></span></div></div></div><div><span style="font-size: 16px;"><br/></span></div><div>7、对象类型和string类型转换</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>对象转成字符串 ：  JSON.stringify()</div><div>字符串转成对象 ：  JSON.parse()    eval() --- 安全性 低</div><div><br/></div></div><div><br/></div><div>练习 </div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>1、将服务器获取的批量数据显示到页面上</div><div>2、  已知有三个数据  1.txt   2.txt  3.txt ，  页面有三个按钮 ，点击第一个按钮获取1.txt 内容 ......    将内容显示到页面的div中    </div></div><div><br/></div><div>8、关于ajax请求服务器的缓存问题</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><span style="font-size: 16px;">一般ie会出现缓存问题，当客户端请求一次服务器后，再次请求同一个url时，浏览器会直接将缓存的内容显示出来，不在重新访问服务器了</span></div><div><span style="font-size: 16px;">缓存问题解决办法：</span></div><div><span style="font-size: 16px;">     在  ajax请求服务器的url上加一个随机值</span></div><div><span style="font-size: 16px;">     &quot;http://127.0.0.1/1719ajax/1.txt?id=&quot; + Math.random()  或</span></div><div><span style="font-size: 16px;">     &quot;http://127.0.0.1/1719ajax/1.txt?id=&quot; + new Date().getTime()</span><span style="font-size: 16px;">  </span></div><div><br/></div></div><div>9、ajax如何请求接口路径</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px;">接口：   服务器文件的路径  </span></div><div><span style="font-size: 16px;">接口参数：</span></div><div><span style="font-size: 16px;">      接口url   接口参数    接口返回值      </span></div><div><span style="font-size: 16px;"><br/></span></div><div><span style="font-size: 16px;">从服务器获取数据  </span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 